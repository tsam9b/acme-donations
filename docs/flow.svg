<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <style>
    .box { fill:#1f2937; stroke:#111827; stroke-width:2px; rx:8; ry:8; }
    .label { fill:#e5e7eb; font-family: Inter, Arial, sans-serif; font-size:14px; }
    .title { fill:#fff; font-weight:700; font-size:16px; }
    .arrow { stroke:#9CA3AF; stroke-width:2; fill:none; marker-end:url(#arrowhead); }
    .note { fill:#9CA3AF; font-size:12px; }
    .side { fill:#0f172a; stroke:#0b1220; stroke-width:1px; rx:6; ry:6; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9CA3AF" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="40" y="30" class="title">Acme Donations — Flowchart</text>
  <text x="40" y="50" class="note">High-level flow: Browser → Inertia client → Laravel (Route &amp; Controller) → Database / Payment / Mail → Inertia response → Vue pages</text>

  <!-- Row 1: Browser and Inertia Client -->
  <rect x="40" y="90" width="180" height="60" class="box" />
  <text x="130" y="125" text-anchor="middle" class="label">Browser (User)</text>

  <rect x="260" y="90" width="220" height="60" class="box" />
  <text x="370" y="115" text-anchor="middle" class="label">Inertia Client</text>
  <text x="370" y="133" text-anchor="middle" class="label">(Vue + Inertia)</text>

  <!-- Row 2: Laravel route & controller -->
  <rect x="520" y="70" width="160" height="60" class="box" />
  <text x="600" y="105" text-anchor="middle" class="label">Laravel Route</text>

  <rect x="700" y="70" width="200" height="60" class="box" />
  <text x="800" y="105" text-anchor="middle" class="label">Controller</text>

  <!-- DB box below controller -->
  <rect x="740" y="170" width="120" height="60" class="box" />
  <text x="800" y="205" text-anchor="middle" class="label">Database</text>

  <!-- Inertia::render box -->
  <rect x="400" y="220" width="180" height="60" class="box" />
  <text x="490" y="245" text-anchor="middle" class="label">Inertia::render</text>
  <text x="490" y="263" text-anchor="middle" class="label">(page props)</text>

  <!-- Vue page and UI components -->
  <rect x="260" y="320" width="220" height="60" class="box" />
  <text x="370" y="355" text-anchor="middle" class="label">Vue Page Component</text>

  <rect x="520" y="320" width="220" height="60" class="box" />
  <text x="630" y="345" text-anchor="middle" class="label">UI Component</text>
  <text x="630" y="363" text-anchor="middle" class="label">(Modals, Forms)</text>

  <!-- Payment Adapter side box -->
  <rect x="950" y="60" width="180" height="60" class="side" />
  <text x="1040" y="85" text-anchor="middle" class="label">Payment Adapter</text>
  <text x="1040" y="103" text-anchor="middle" class="label">(PaymentInterface)</text>

  <rect x="950" y="135" width="86" height="44" class="side" />
  <text x="993" y="160" text-anchor="middle" class="label">Dummy</text>

  <rect x="1044" y="135" width="86" height="44" class="side" />
  <text x="1087" y="160" text-anchor="middle" class="label">Live</text>

  <!-- Mail side box -->
  <rect x="950" y="260" width="180" height="44" class="side" />
  <text x="1040" y="285" text-anchor="middle" class="label">Mail / Notifications</text>

  <!-- Arrows: Browser -> InertiaClient -> Route -> Controller -> DB -->
  <path d="M220 120 L260 120" class="arrow" />
  <path d="M480 120 L520 100" class="arrow" />
  <path d="M680 100 L700 100" class="arrow" />
  <path d="M900 100 L940 100" class="arrow" />

  <!-- Controller -> Database -->
  <path d="M800 130 L800 170" class="arrow" />
  <path d="M800 230 L560 230" class="arrow" />

  <!-- Inertia::render -> InertiaClient (back up) -->
  <path d="M520 230 L520 200 L390 200" class="arrow" />

  <!-- InertiaClient -> Vue Page -->
  <path d="M370 150 L370 320" class="arrow" />

  <!-- Vue Page -> UI Component -->
  <path d="M480 350 L520 350" class="arrow" />

  <!-- UI Component -> InertiaClient (form submit) -->
  <path d="M600 250 L600 320 L600 150 L480 150" class="arrow" />

  <!-- Controller -> PaymentAdapter -->
  <path d="M900 100 L950 100" class="arrow" />

  <!-- PaymentAdapter -> Dummy / Real (branch) -->
  <path d="M1040 120 L1040 135" class="arrow" />

  <!-- Controller -> Mail -->
  <path d="M820 145 L950 145 L950 260" class="arrow" />

  <!-- Labels for key steps -->
  <text x="260" y="188" class="note">Controller returns Inertia response with page props</text>
  <text x="40" y="660" class="note">File map: pages `resources/js/Pages/*`, components `resources/js/Components/*`, controllers `app/Http/Controllers/*`, payments `app/Payments/*`</text>

</svg>
